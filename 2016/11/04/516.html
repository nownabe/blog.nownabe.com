<!DOCTYPE html><html><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#"><meta charset="utf-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="width=device-width, initial-scale=1" name="viewport"><title>nownab.log | fluentdのoutputプラグインのパラメータを眺める</title><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><link href="/styles/ress.min.css" rel="stylesheet"><link href="/styles/font-awesome.min.css" rel="stylesheet"><link href="/styles/index.css" rel="stylesheet"><link href="/styles/highlight.css" rel="stylesheet"><link href="/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.ico"><meta content="nownab.log" property="og:site_name"><meta content="article" property="og:type"><meta content="summary" property="twitter:card"><meta content="@nownabe" property="twitter:site"><meta content="@nownabe" property="twitter:creator"><meta content="https://blog.nownabe.com/images/nownabe.png" property="twitter:image"><meta content="1775541316016693" property="fb:app_id"><meta content="fluentdのoutputプラグインのパラメータを眺める" property="og:title"><meta content="    はじめに   なんかバージョンアップでいろいろ変わってるっぽいので、一通り眺めてみました。  お題は fluent-plugin-bigquery です。(あんま関係ないけど)   こちらの記事がとても参考になりました。   BufferedOutput pluginの代表的なoptionについて   かなり適当なので、詳しくはソースコードを参照してください。     サンプル   fluent-plugin-bigqueryのREADMEにのってるloadのサンプルはこんな感じ。    &lt;match bigquery... " property="og:description"><meta content="https://blog.nownabe.com/images/nownabe.png" property="og:image"><meta content="https://blog.nownabe.com/2016/11/04/516.html" property="og:url"><meta content="    はじめに   なんかバージョンアップでいろいろ変わってるっぽいので、一通り眺めてみました。  お題は fluent-plugin-bigquery です。(あんま関係ないけど)   こちらの記事がとても参考になりました。   BufferedOutput pluginの代表的なoptionについて   かなり適当なので、詳しくはソースコードを参照してください。     サンプル   fluent-plugin-bigqueryのREADMEにのってるloadのサンプルはこんな感じ。    &lt;match bigquery... " property="twitter:description"><meta content="fluentdのoutputプラグインのパラメータを眺める" property="twitter:title"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-37580164-4', 'auto');
ga('send', 'pageview');</script></head><body><div id="site-container"><div id="header-container"><header class="container" role="banner"><h1><a href="/"><img alt="now" src="/images/nownabe.svg">nownab.log</a></h1><p>nownab.log is the life log of nownabe</p></header></div><div id="content-container"><div class="container" id="content" role="main"><article><div class="title"><h1><a href="/2016/11/04/516.html">fluentdのoutputプラグインのパラメータを眺める</a></h1><span class="date">Posted on&nbsp;Nov 04, 2016</span></div><div class="body">
<h1>
<span id="はじめに" class="fragment"></span><a href="#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB"><i class="fa fa-link"></i></a>はじめに</h1>

<p>なんかバージョンアップでいろいろ変わってるっぽいので、一通り眺めてみました。<br>
お題は<a href="https://github.com/kaizenplatform/fluent-plugin-bigquery" rel="nofollow noopener" target="_blank">fluent-plugin-bigquery</a>です。(あんま関係ないけど)</p>

<p>こちらの記事がとても参考になりました。<br>
<a href="http://qiita.com/tatsu-yam/items/bd7006e483f3b3c64309" rel="nofollow noopener" target="_blank">BufferedOutput pluginの代表的なoptionについて</a></p>

<p>かなり適当なので、詳しくはソースコードを参照してください。</p>

<h1>
<span id="サンプル" class="fragment"></span><a href="#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB"><i class="fa fa-link"></i></a>サンプル</h1>

<p>fluent-plugin-bigqueryのREADMEにのってるloadのサンプルはこんな感じ。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>
&lt;match bigquery&gt;
  @type bigquery

  method load
  buffer_type file
  buffer_path bigquery.*.buffer
  flush_interval 1800
  flush_at_shutdown true
  try_flush_interval 1
  utc

  auth_method json_key
  json_key json_key_path.json

  time_format %s
  time_field  time

  project yourproject_id
  dataset yourdataset_id
  auto_create_table true
  table yourtable%{time_slice}
  schema_path bq_schema.json
&lt;/match&gt;
</pre></div></div>

<h1>
<span id="継承関係" class="fragment"></span><a href="#%E7%B6%99%E6%89%BF%E9%96%A2%E4%BF%82"><i class="fa fa-link"></i></a>継承関係</h1>

<p>fluentdのプラグインのパラメータはクラスの継承ツリーの中にあるそれぞれのクラスで定義されているので、理解しやすいようにそれぞれのクラスごとにパラメータをみていきたいと思います。<br>
そのために、まずは継承関係を整理します。</p>

<h2>
<span id="outputプラグインの継承関係" class="fragment"></span><a href="#output%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%81%AE%E7%B6%99%E6%89%BF%E9%96%A2%E4%BF%82"><i class="fa fa-link"></i></a>outputプラグインの継承関係</h2>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>
Fluent::BigQueryOutput &lt; Fluent::Compat::TimeSlicedOutput &lt; Fluent::Plugin::Output &lt; Fluent::Plugin::Base
</pre></div></div>

<h2>
<span id="bufferの継承関係" class="fragment"></span><a href="#buffer%E3%81%AE%E7%B6%99%E6%89%BF%E9%96%A2%E4%BF%82"><i class="fa fa-link"></i></a>bufferの継承関係</h2>

<p>今回はfile bufferについて。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>
Fluent::Plugin::FileBuffer &lt; Fluent::Plugin::Buffer &lt; Fluent::Plugin::Base
</pre></div></div>

<h1>
<span id="パラメータ" class="fragment"></span><a href="#%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF"><i class="fa fa-link"></i></a>パラメータ</h1>

<p>型についてはこちらを参照してください。<br>
<a href="http://docs.fluentd.org/articles/config-file#supported-data-types-for-values" class="autolink" rel="nofollow noopener" target="_blank">http://docs.fluentd.org/articles/config-file#supported-data-types-for-values</a></p>

<h2>
<span id="outputプラグイン" class="fragment"></span><a href="#output%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3"><i class="fa fa-link"></i></a>outputプラグイン</h2>

<h3>
<span id="fluentbigqueryoutput" class="fragment"></span><a href="#fluentbigqueryoutput"><i class="fa fa-link"></i></a>Fluent::BigQueryOutput</h3>

<p>まぁここは適当に。</p>

<ul>
<li>
<code>time_format</code>: timeのformat</li>
<li>
<code>time_field</code>: timestampとして使うフィールド</li>
<li>
<code>method</code>: ストリーミングインサート<code>insert</code> or <code>load</code>
</li>
<li>
<code>utc</code>: UTC</li>
<li>
<code>auth_method</code>: 認証方法</li>
<li>
<code>json_key</code>: JSON Keyのパス</li>
<li>
<code>project</code>: BigQueryのload先project</li>
<li>
<code>dataset</code>: BigQueryのload先dataset</li>
<li>
<code>table</code>: BigQueryのload先table</li>
<li>
<code>schema_path</code>: schemaファイルのパス</li>
</ul>

<h3>
<span id="fluentcompattimeslicedoutput" class="fragment"></span><a href="#fluentcompattimeslicedoutput"><i class="fa fa-link"></i></a>Fluent::Compat::TimeSlicedOutput</h3>

<p><a href="https://github.com/fluent/fluentd/blob/master/lib/fluent/compat/output.rb" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/fluent/fluentd/blob/master/lib/fluent/compat/output.rb</a></p>

<p>ここでは、ほとんどdefault値の書き換えぐらいしかやってないっぽい。<br>
カッコでくくってあるパラメータ名は新しい名前で、<a href="https://github.com/fluent/fluentd/blob/master/lib/fluent/plugin_helper/compat_parameters.rb" rel="nofollow noopener" target="_blank">こちら</a>でエイリアスが張ってあります。<br>
旧パラメータ名でソースコード探しても見つかりません <img class="emoji" title=":sob:" alt=":sob:" src="/images/emoji/unicode/1f62d.svg" height="20" width="20" align="absmiddle"></p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>型</th>
<th>default</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>buffer_type</code></td>
<td>string</td>
<td><code>"file"</code></td>
<td>使うbufferのタイプ</td>
</tr>
<tr>
<td><code>flush_interval</code></td>
<td>time</td>
<td><code>nil</code></td>
<td>buffer chunkをflushする間隔</td>
</tr>
<tr>
<td>
<code>try_flush_interval</code> (<code>flush_thread_interval</code>)</td>
<td>float</td>
<td><code>1</code></td>
<td>
<code>try_flush</code>する間隔</td>
</tr>
<tr>
<td>
<code>disable_retry_limit</code> (<code>retry_forever</code>)</td>
<td>bool</td>
<td><code>false</code></td>
<td>永遠にretryする</td>
</tr>
<tr>
<td>
<code>retry_limit</code> (<code>retry_max_times</code>`)</td>
<td>integer</td>
<td><code>17</code></td>
<td>リトライする回数</td>
</tr>
<tr>
<td><code>retry_wait</code></td>
<td>time</td>
<td><code>1.0</code></td>
<td>最初のリトライ間隔 (リトライするたびにどんどん長くなる)</td>
</tr>
<tr>
<td>
<code>max_retry_wait</code> (<code>retry_max_interval</code>)</td>
<td>time</td>
<td><code>nil</code></td>
<td>リトライ間隔の最大値</td>
</tr>
<tr>
<td>
<code>num_threads</code> (<code>flush_thread_count</code>)</td>
<td>integer</td>
<td><code>1</code></td>
<td>バッファをflushするスレッドの数</td>
</tr>
<tr>
<td>
<code>queued_chunk_flush_interval</code> (<code>flush_thread_burst_interval</code>)</td>
<td>time</td>
<td><code>1</code></td>
<td>queued chunkをflushする間隔</td>
</tr>
<tr>
<td><code>time_slice_format</code></td>
<td>string</td>
<td><code>"%Y%m%d"</code></td>
<td>ファイル名の一部として使う</td>
</tr>
<tr>
<td>
<code>time_slice_wait</code> (<code>timekey_wait</code>)</td>
<td>time</td>
<td><code>10 * 60</code></td>
<td>古いログが届くのを待つ時間</td>
</tr>
<tr>
<td>
<code>timezone</code> (<code>timekey_zone</code>)</td>
<td>string</td>
<td><code>nil</code></td>
<td>特定のtimezoneで時間をparseする</td>
</tr>
<tr>
<td>
<code>buffer_chunk_limit</code> (<code>chunk_limit_size</code>)</td>
<td>size</td>
<td><code>256 * 1024 * 1024</code></td>
<td>各buffer chunkのサイズ</td>
</tr>
<tr>
<td>
<code>buffer_queue_limit</code> (<code>queue_length_limit</code>)</td>
<td>integer</td>
<td><code>256</code></td>
<td>chunk queueの長さの上限</td>
</tr>
<tr>
<td>
<code>buffer_queue_full_action</code> (<code>overflow_action</code>)</td>
<td>enum</td>
<td><code>:exception</code></td>
<td>buffer queueが<code>buffer_queue_limit</code>を超えた時の動作<sup id="fnref1"><a href="#fn1" rel="footnote" title="list: [:exception, :block, :drop_oldest_chunk]">1</a></sup>
</td>
</tr>
<tr>
<td><code>flush_at_shutdown</code></td>
<td>bool</td>
<td><code>false</code></td>
<td>shutdown直前にflushする</td>
</tr>
</tbody>
</table>

<h3>
<span id="fluentpluginoutput" class="fragment"></span><a href="#fluentpluginoutput"><i class="fa fa-link"></i></a>Fluent::Plugin::Output</h3>

<p><a href="https://github.com/fluent/fluentd/blob/master/lib/fluent/plugin/output.rb" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/fluent/fluentd/blob/master/lib/fluent/plugin/output.rb</a></p>

<p><code>TimeSlicedOutput</code>の方で別名が設定されてるところをみると、このクラスで用意されてるパラメータはprivateな感じなのかもしれません。<br>
普段使うときはあまり意識しなくてもよさそうです。<br>
説明も適当です <img class="emoji" title=":innocent:" alt=":innocent:" src="/images/emoji/unicode/1f607.svg" height="20" width="20" align="absmiddle"> 多分ソース読んだ方が早いと思います。</p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>型</th>
<th>default</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>timekey</code></td>
<td>time</td>
<td><code>nil</code></td>
<td></td>
</tr>
<tr>
<td><code>timekey_wait</code></td>
<td>time</td>
<td><code>nil</code></td>
<td></td>
</tr>
<tr>
<td><code>timekey_use_utc</code></td>
<td>bool</td>
<td><code>false</code></td>
<td>デフォルトはlocaltime</td>
</tr>
<tr>
<td><code>timekey_zone</code></td>
<td>string</td>
<td><code>Time.now.strftime("%z")</code></td>
<td>タイムゾーン</td>
</tr>
<tr>
<td><code>flush_at_shutdown</code></td>
<td>bool</td>
<td><code>nil</code></td>
<td>シャットダウン直前にflushを試みる</td>
</tr>
<tr>
<td><code>flush_mode</code></td>
<td>enum</td>
<td><code>:default</code></td>
<td><sup id="fnref2"><a href="#fn2" rel="footnote" title='list: [:default, :lazy, :interval, :immediate]. How to enqueue chunks to be flushed. "interval" flushes per flush_interval, "immediate" flushes just after event arrival.'>2</a></sup></td>
</tr>
<tr>
<td><code>flush_interval</code></td>
<td>time</td>
<td><code>60</code></td>
<td>buffer chunkをflushする間隔</td>
</tr>
<tr>
<td><code>flush_thread_count</code></td>
<td>integer</td>
<td><code>1</code></td>
<td>bufferをflushするthreadの数</td>
</tr>
<tr>
<td><code>flush_thread_interval</code></td>
<td>float</td>
<td><code>1.0</code></td>
<td>
<code>try_flush</code>する間隔</td>
</tr>
<tr>
<td><code>flush_thread_burst_interval</code></td>
<td>float</td>
<td><code>1.0</code></td>
<td>多くのbuffer chunkがqueueされているときのflush間隔</td>
</tr>
<tr>
<td><code>delayed_commit_timeout</code></td>
<td>time</td>
<td><code>60</code></td>
<td>buffer chunkがpluginにコミットされるときのタイムアウト？</td>
</tr>
<tr>
<td><code>overflow_action</code></td>
<td>enum</td>
<td><code>:throw_exception</code></td>
<td>bufferがあふれたときの動作<sup id="fnref3"><a href="#fn3" rel="footnote" title="list: [:throw_exception, :block, :drop_oldest_chunk]">3</a></sup>
</td>
</tr>
<tr>
<td><code>retry_forever</code></td>
<td>bool</td>
<td><code>false</code></td>
<td>
<code>retry_timeout</code>と<code>retry_max_times</code>を無視して永遠にretryする</td>
</tr>
<tr>
<td><code>retry_timeout</code></td>
<td>time</td>
<td><code>72 * 60 * 60</code></td>
<td>リトライのタイムアウト</td>
</tr>
<tr>
<td><code>retry_max_times</code></td>
<td>integer</td>
<td><code>nil</code></td>
<td>最大リトライ回数</td>
</tr>
<tr>
<td><code>retry_secondary_threshold</code></td>
<td>float</td>
<td><code>0.8</code></td>
<td>secondaryを使うようになるretry_timeoutの割合？</td>
</tr>
<tr>
<td><code>retry_type</code></td>
<td>enum</td>
<td><code>:exponential_backoff</code></td>
<td>次のリトライまでの間隔をどう決めるか<sup id="fnref4"><a href="#fn4" rel="footnote" title="https://github.com/fluent/fluentd/blob/master/lib/fluent/plugin/output.rb#L81">4</a></sup>
</td>
</tr>
<tr>
<td><code>retry_wait</code></td>
<td>time</td>
<td><code>1</code></td>
<td>リトライ間隔の計算に使われる</td>
</tr>
<tr>
<td><code>retry_exponential_backoff_base</code></td>
<td>float</td>
<td><code>2</code></td>
<td>リトライ間隔の計算に使われる</td>
</tr>
<tr>
<td><code>retry_max_interval</code></td>
<td>time</td>
<td><code>nil</code></td>
<td>リトライ間隔の最大値</td>
</tr>
<tr>
<td><code>retry_randomize</code></td>
<td>bool</td>
<td><code>true</code></td>
<td>ランダム間隔でリトライする</td>
</tr>
</tbody>
</table>

<h2>
<span id="bufferプラグイン" class="fragment"></span><a href="#buffer%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3"><i class="fa fa-link"></i></a>bufferプラグイン</h2>

<h3>
<span id="fluentpluginfilebuffer" class="fragment"></span><a href="#fluentpluginfilebuffer"><i class="fa fa-link"></i></a>Fluent::Plugin::FileBuffer</h3>

<p><a href="https://github.com/fluent/fluentd/blob/master/lib/fluent/plugin/buf_file.rb" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/fluent/fluentd/blob/master/lib/fluent/plugin/buf_file.rb</a></p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>型</th>
<th>default</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>buffer_path</code></td>
<td>string</td>
<td></td>
<td>bufferのファイルパス</td>
</tr>
<tr>
<td><code>buffer_chunk_limit_size</code></td>
<td></td>
<td><code>256 * 1024 * 1024</code></td>
<td></td>
</tr>
<tr>
<td><code>buffer_total_limit_size</code></td>
<td></td>
<td><code>64 * 1024 * 1024 * 1024</code></td>
<td></td>
</tr>
<tr>
<td><code>buffer_file_permission</code></td>
<td>string</td>
<td><code>nil</code></td>
<td>bufferファイルのパーミッション</td>
</tr>
<tr>
<td><code>buffer_dir_permission</code></td>
<td>string</td>
<td><code>nil</code></td>
<td>bufferディレクトリのパーミッション</td>
</tr>
</tbody>
</table>

<h3>
<span id="fluentpluginbuffer" class="fragment"></span><a href="#fluentpluginbuffer"><i class="fa fa-link"></i></a>Fluent::Plugin::Buffer</h3>

<p><a href="https://github.com/fluent/fluentd/blob/master/lib/fluent/plugin/buffer.rb" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/fluent/fluentd/blob/master/lib/fluent/plugin/buffer.rb</a></p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>型</th>
<th>default</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>buffer_chunk_limit_size</code></td>
<td>size</td>
<td><code>8 * 1024 * 1024</code></td>
<td>chunkの最大サイズ</td>
</tr>
<tr>
<td><code>buffer_total_limit_size</code></td>
<td>size</td>
<td><code>512 * 1024 * 1024</code></td>
<td>buffer合計の最大サイズ</td>
</tr>
<tr>
<td><code>buffer_queue_length_limit</code></td>
<td>integer</td>
<td><code>nil</code></td>
<td>queueの長さ<sup id="fnref5"><a href="#fn5" rel="footnote" title="If user specify this value and (chunk_size * queue_length) is smaller than total_size, then total_size is automatically configured to that value">5</a></sup>
</td>
</tr>
<tr>
<td><code>buffer_chunk_records_limit</code></td>
<td>integer</td>
<td><code>nil</code></td>
<td>chunk内のレコード数の上限？</td>
</tr>
<tr>
<td><code>buffer_chunk_full_threshold</code></td>
<td>float</td>
<td><code>0.95</code></td>
<td>chunk sizeかrecord数がこのthreshold%をこえるとenqueueされる</td>
</tr>
<tr>
<td><code>buffer_compress</code></td>
<td>enum</td>
<td><code>:text</code></td>
<td>圧縮するかどうか<sup id="fnref6"><a href="#fn6" rel="footnote" title="list: [:text, :gzip]">6</a></sup>
</td>
</tr>
</tbody>
</table>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p><code>list: [:exception, :block, :drop_oldest_chunk]</code> <a href="#fnref1" rev="footnote">↩</a></p>
</li>

<li id="fn2">
<p><code>list: [:default, :lazy, :interval, :immediate]</code>. How to enqueue chunks to be flushed. "interval" flushes per flush_interval, "immediate" flushes just after event arrival. <a href="#fnref2" rev="footnote">↩</a></p>
</li>

<li id="fn3">
<p><code>list: [:throw_exception, :block, :drop_oldest_chunk]</code> <a href="#fnref3" rev="footnote">↩</a></p>
</li>

<li id="fn4">
<p><a href="https://github.com/fluent/fluentd/blob/master/lib/fluent/plugin/output.rb#L81" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/fluent/fluentd/blob/master/lib/fluent/plugin/output.rb#L81</a> <a href="#fnref4" rev="footnote">↩</a></p>
</li>

<li id="fn5">
<p>If user specify this value and (chunk_size * queue_length) is smaller than total_size, then total_size is automatically configured to that value <a href="#fnref5" rev="footnote">↩</a></p>
</li>

<li id="fn6">
<p><code>list: [:text, :gzip]</code> <a href="#fnref6" rev="footnote">↩</a></p>
</li>

</ol>
</div>
</div><div class="sns-buttons"><ul><li><div class="twitter-button"><a class="twitter-share-button" data-related="nownabe" data-via="nownabe" href="https://twitter.com/share">Tweet</a></div></li><li><div class="fb-like" data-action="like" data-layout="button_count" data-share="true" data-show-faces="false" data-size="small"></div></li><li><a class="tumblr-share-button" href="https://www.tumblr.com/share"></a></li><li><a class="hatena-bookmark-button" data-hatena-bookmark-lang="ja" data-hatena-bookmark-layout="standard-balloon" href="http://b.hatena.ne.jp/entry/" title="このエントリーをはてなブックマークに追加"><img alt="このエントリーをはてなブックマークに追加" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20"></a></li><li><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></li></ul></div></article></div></div><div id="footer-container"><footer class="container"><p class="copyright">Copyright &copy; 2016<img alt="now" src="/images/nownabe.svg">nownabe All Right Reserved.</p></footer><aside class="container" id="information"><ul id="links"><li><a href="https://nownabe.github.io"><img alt="nownabe.github.io" src="/images/nownabe.svg"></a></li><li><a href="https://github.com/nownabe"><img alt="github.com/nownabe" src="/images/github.svg"></a></li><li><a href="https://qiita.com/nownabe"><img alt="qiita.com/nownabe" src="/images/qiita.svg"></a></li><li><a href="https://twitter.com/nownabe"><img alt="twitter.com/nownabe" src="/images/twitter.svg"></a></li><li><a href="https://www.facebook.com/nownabe"><img alt="www.facebook.com/nownabe" src="/images/facebook.png"></a></li></ul></aside><div class="container"><p>今が最高</p></div></div><div id="fb-root"></div></div><script>// Twitter
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script><script>// Facebook
(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.7&appId=1775541316016693";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script><script>// Pocket
!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js"></script></body></html>