<!DOCTYPE html><html><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#"><meta charset="utf-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="width=device-width, initial-scale=1" name="viewport"><title>nownab.log | GCP updates | August 8, 2017</title><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><link href="/styles/ress.min.css" rel="stylesheet"><link href="/styles/font-awesome.min.css" rel="stylesheet"><link href="/styles/index.css" rel="stylesheet"><link href="/styles/highlight.css" rel="stylesheet"><link href="/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.ico"><meta content="nownab.log" property="og:site_name"><meta content="article" property="og:type"><meta content="summary" property="twitter:card"><meta content="@nownabe" property="twitter:site"><meta content="@nownabe" property="twitter:creator"><meta content="https://blog.nownabe.com/images/nownabe.png" property="twitter:image"><meta content="1775541316016693" property="fb:app_id"><meta content="GCP updates | August 8, 2017" property="og:title"><meta content="    Compute     Workload-related views in the GKE Cloud Console UI       Beta launch of Google Container Engine (GKE) Cloud Console UI adds views and management of workloads running within the cluster. Customers will see integration of the Kubernetes dashboard...   " property="og:description"><meta content="https://blog.nownabe.com/images/nownabe.png" property="og:image"><meta content="https://blog.nownabe.com/2017/08/14/1093.html" property="og:url"><meta content="    Compute     Workload-related views in the GKE Cloud Console UI       Beta launch of Google Container Engine (GKE) Cloud Console UI adds views and management of workloads running within the cluster. Customers will see integration of the Kubernetes dashboard...   " property="twitter:description"><meta content="GCP updates | August 8, 2017" property="twitter:title"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-37580164-4', 'auto');
ga('send', 'pageview');</script></head><body><div id="site-container"><div id="header-container"><header class="container" role="banner"><h1><a href="/"><img alt="now" src="/images/nownabe.svg">nownab.log</a></h1><p>nownab.log is the life log of nownabe</p></header></div><div id="content-container"><div class="container" id="content" role="main"><article><div class="title"><h1><a href="/2017/08/14/1093.html">GCP updates | August 8, 2017</a></h1><span class="date">Posted on&nbsp;Aug 14, 2017</span></div><div class="body">
<h1>
<span id="compute" class="fragment"></span><a href="#compute"><i class="fa fa-link"></i></a>Compute</h1>

<h2>
<span id="workload-related-views-in-the-gke-cloud-console-ui" class="fragment"></span><a href="#workload-related-views-in-the-gke-cloud-console-ui"><i class="fa fa-link"></i></a><a href="https://console.cloud.google.com/kubernetes/workload?project=wgorisa-misc" rel="nofollow noopener" target="_blank">Workload-related views in the GKE Cloud Console UI</a>
</h2>

<blockquote>
<p>Beta launch of Google Container Engine (GKE) Cloud Console UI adds views and management of workloads running within the cluster. Customers will see integration of the Kubernetes dashboard UI with the GKE Cloud Console UI.</p>

<p>GKEのクラスタ内で実行中のワークロードを見るためのUIをベータリリースしました。<br>
GKEのクラウドコンソールUIに統合されたKubernetesダッシュボードを見ることができます。</p>
</blockquote>

<p>こんな感じでWebコンソールでKubernetesダッシュボードと同等のビューが追加されています。</p>

<p><a href="/images/2017/08/14/1.png" target="_blank"><img src="/images/2017/08/14/1.png" alt="スクリーンショット 2017-08-14 11.59.23.png (104.3 kB)"></a><br>
<a href="/images/2017/08/14/2.png" target="_blank"><img src="/images/2017/08/14/2.png" alt="スクリーンショット 2017-08-14 12.01.32.png (102.3 kB)"></a></p>

<p>ちょっと見ない間にService、Secret、ConfigMap、Storageなんかもここで確認できるようになってたんですね。<br>
ワークロードと一緒に追加されたんでしょうか。</p>

<h2>
<span id="compute-engine-gce-extended-memory-ga" class="fragment"></span><a href="#compute-engine-gce-extended-memory-ga"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type#extendedmemory" rel="nofollow noopener" target="_blank">Compute Engine (GCE) extended memory GA</a>
</h2>

<blockquote>
<p>GCE extended memory allows customers to add memory beyond the 6.5 GB limit on custom machines. Customers can specify extended memory per vCPU in 256 MB increments, up to 455 GB. This feature is available through the GCE API, SDK, and Cloud Console.</p>

<p>GCEの拡張メモリはカスタムマシンのメモリ上限である6.5GBを超えたメモリ追加を許します。vCPUあたり256MB単位で455GBまでメモリを追加することができます。GCE API、SDK、クラウドコンソールから利用可能です。</p>
</blockquote>

<p>通常の制限はvCPUあたり6.5GBで拡張メモリを使うとVMあたり455GBまで拡張できます。<br>
日本語ドキュメントではまだベータ機能になってますね。</p>

<h2>
<span id="gke-authorized-networks-for-kubernetes-master" class="fragment"></span><a href="#gke-authorized-networks-for-kubernetes-master"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/container-engine/docs/authorized-networks" rel="nofollow noopener" target="_blank">GKE authorized networks for Kubernetes master</a>
</h2>

<blockquote>
<p>Beta of GKE authorized networks for Kubernetes master improves the ability to restrict access to the Kubernetes API server by specifying allowed CIDR address ranges.</p>

<p>GKEのKubernetes masterに対するAuthorized Network (ベータ)がKubernetes APIサーバへのアクセスを許可するCIDRを指定して制限できるようになりました。</p>
</blockquote>

<p>既存のクラスタに設定するには次のコマンドを実行すればいいみたいです。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>
gcloud container clusters update example-cluster --enable-master-authorized-networks --master-authorized-networks=8.8.8.8/32,8.8.8.0/24
</pre></div></div>

<p>ファイアウォールで頑張るしかなかったので便利ですね。</p>

<h1>
<span id="storage--databases" class="fragment"></span><a href="#storage--databases"><i class="fa fa-link"></i></a>Storage &amp; Databases</h1>

<h2>
<span id="transfer-appliance-beta" class="fragment"></span><a href="#transfer-appliance-beta"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/data-transfer/docs/introduction" rel="nofollow noopener" target="_blank">Transfer Appliance beta</a>
</h2>

<blockquote>
<p>Transfer Appliance is a <a href="https://cloudplatform.googleblog.com/2017/07/introducing-Transfer-Appliance-Sneakernet-for-the-cloud-era.html" rel="nofollow noopener" target="_blank">hardware appliance</a> you can use to securely migrate large volumes of data (from hundreds of terabytes up to 1 petabyte) to Google Cloud Platform (GCP) without disrupting network and business operations.</p>

<p>Transfer Applianceはネットワークやビジネスに影響を与えずに、数百テラバイトから1ペタバイトまでのでかいサイズのデータをセキュアにGCPにマイグレートできるハードウェアアプライアンスです。</p>
</blockquote>

<p>読んでませんがブログの方に詳細があるようです。面白い試みですね。</p>

<h2>
<span id="cloud-spanner-public-launch-in-oregon" class="fragment"></span><a href="#cloud-spanner-public-launch-in-oregon"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/spanner/docs/instance-configuration#configuration" rel="nofollow noopener" target="_blank">Cloud Spanner public launch in Oregon</a>
</h2>

<blockquote>
<p>Cloud Spanner regional instances are now publicly available in the Oregon region (us-west1). List of available regions for Cloud Spanner includes Iowa, Belgium, Taiwan, Japan, and now Oregon.</p>

<p>オレゴンリージョン (us-west1)にCloud Spannerのインスタンスを作成できるようになりました。現在有効なリージョンはアイオワ、ベルギー、台湾、日本、オレゴンです。</p>
</blockquote>

<h1>
<span id="networking" class="fragment"></span><a href="#networking"><i class="fa fa-link"></i></a>Networking</h1>

<h2>
<span id="shared-virtual-private-cloud-networking-ga" class="fragment"></span><a href="#shared-virtual-private-cloud-networking-ga"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/compute/docs/shared-vpc/" rel="nofollow noopener" target="_blank">Shared Virtual Private Cloud networking GA</a>
</h2>

<blockquote>
<p>Customers can share GCP Virtual Private Cloud (VPC) networks across projects in a Cloud Organization. Permission can be given for multiple projects to use a single, shared VPC network and corresponding networking resources.</p>

<p>Cloud Organization内のプロジェクト間でVPCを共有できます。</p>
</blockquote>

<h2>
<span id="vm-instances-with-network-interfaces-beta" class="fragment"></span><a href="#vm-instances-with-network-interfaces-beta"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/compute/docs/multiple-interfaces-concepts" rel="nofollow noopener" target="_blank">VM instances with network interfaces beta</a>
</h2>

<blockquote>
<p>Multi-NIC functionality allows a single VM to have multiple interfaces, each attached to one of the virtual networks already offered by GCP.</p>

<p>マルチNIC機能で1つのVMが複数のインタフェースを持てます。それぞれGCPが提供する仮想ネットワークに接続されます。</p>
</blockquote>

<p>構成の幅が広がりますね <img class="emoji" title=":smiley:" alt=":smiley:" src="/images/emoji/unicode/1f603.svg" height="20" width="20" align="absmiddle"> </p>

<h2>
<span id="vpc-network-peering-ga" class="fragment"></span><a href="#vpc-network-peering-ga"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/compute/docs/vpc/vpc-peering" rel="nofollow noopener" target="_blank">VPC Network Peering GA</a>
</h2>

<blockquote>
<p>Virtual Private Cloud (VPC) Network Peering allows private RFC1918 connectivity across two VPC networks regardless of whether or not they belong to the same project or the same organization.</p>

<p>VPC Network Peeringで2つのVPC間でプライベートIPによるアクセスが可能になります。</p>
</blockquote>

<h1>
<span id="big-data" class="fragment"></span><a href="#big-data"><i class="fa fa-link"></i></a>Big Data</h1>

<h2>
<span id="cloud-dataflowerror-reporting" class="fragment"></span><a href="#cloud-dataflowerror-reporting"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/dataflow/pipelines/dataflow-monitoring-intf#error-reporting" rel="nofollow noopener" target="_blank">Cloud Dataflow—error reporting</a>
</h2>

<blockquote>
<p>Integration with Stackdriver Error Reporting makes it easier for Cloud Dataflow users to identify errors in their pipelines. GA launch applies to all Dataflow pipelines.</p>

<p>Stackdriver Error Reportingとの統合はパイプラインでのエラー確認を簡単にします。<br>
GAになりすべてのパイプラインに適用されます。</p>
</blockquote>

<p>何の設定もなしにError Reportingに統合されます。ログが従来より見やすくなってたり、グラフが見れたりとグラフィカルに表示されてめっちゃ便利でした。</p>

<h1>
<span id="service-based-cloud-dataflow-shuffle" class="fragment"></span><a href="#service-based-cloud-dataflow-shuffle"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/dataflow/service/dataflow-service-desc#shuffle-optimization" rel="nofollow noopener" target="_blank">Service-based Cloud Dataflow Shuffle</a>
</h1>

<blockquote>
<p>New service-based Cloud Dataflow Shuffle implementation is now beta. It improves the performance and scalability of shuffle operations by moving them out of the worker VMs and into the Cloud Dataflow service backend. Available for batch Dataflow pipelines using the 1.9x/2.0x Java SDKs.</p>
</blockquote>

<p>詳細は理解してませんが、バッチパイプラインでのみ有効になる最適化です。今までパイプラインのVM内で実行されていたShuffleという基本操作をVMではなくバックエンドのサービスとして実行するもののようです。多くのジョブで高速化され、CPU、メモリ、ディスクの消費も節約できます。</p>

<p>次のオプションによって有効化されます。また、Dataflowが最適なゾーンを選択するので<code>--zone</code>オプションとは一緒に使えません。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre><span></span>
--experiments=shuffle_mode=service
</pre></div></div>

<p>実際の効果は測定してませんが、なかなか嬉しい最適化ですね <img class="emoji" title=":sparkles:" alt=":sparkles:" src="/images/emoji/unicode/2728.svg" height="20" width="20" align="absmiddle"></p>

<h1>
<span id="identity--security" class="fragment"></span><a href="#identity--security"><i class="fa fa-link"></i></a>Identity &amp; Security</h1>

<h2>
<span id="cloud-folders-ga" class="fragment"></span><a href="#cloud-folders-ga"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/resource-manager/reference/rest/v2/folders" rel="nofollow noopener" target="_blank">Cloud Folders GA</a>
</h2>

<blockquote>
<p>Cloud Folders allow users to group Projects under a Cloud Organization in a hierarchical arrangement. Distinct access and configuration policies can be applied to each node (for example, Folder) in the hierarchy.</p>

<p>Cloud FoldersはCloud Organization下でプロジェクトをグルーピングできます。Cloud Folderの階層にアクセス権を設定できます。</p>
</blockquote>

<h1>
<span id="management-tools" class="fragment"></span><a href="#management-tools"><i class="fa fa-link"></i></a>Management Tools</h1>

<h2>
<span id="web-editor-in-cloud-shell-editor-plus-shell-beta" class="fragment"></span><a href="#web-editor-in-cloud-shell-editor-plus-shell-beta"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/shell/docs/" rel="nofollow noopener" target="_blank">Web editor in Cloud Shell (Editor plus Shell beta)</a>
</h2>

<blockquote>
<p>Simply click on the editor icon to open a tab for easier coding and the ability to run commands from the command-line interface (CLI).</p>
</blockquote>

<p>Cloud Shellにブラウザで動作するのテキストエディタが追加されました。Eclipse Orionがベースになっています。</p>

<p>少し触ってみましたが予想以上に軽快で便利です。本格的なアプリケーションを書くにはまだ辛いと思いますが、ちょっとしたものならCloud Shellだけで完結するようになるのでイイですね。</p>

<p>参考: <a href="https://cloudplatform-jp.googleblog.com/2016/10/cloud-shell.html" rel="nofollow noopener" target="_blank">Google Cloud Platform Japan 公式ブログ: Cloud Shell に追加された新しいコード エディタの使い方</a></p>

<h2>
<span id="genomics-reporting-audit-logs-beta" class="fragment"></span><a href="#genomics-reporting-audit-logs-beta"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/logging/docs/audit/" rel="nofollow noopener" target="_blank">Genomics reporting audit logs beta</a>
</h2>

<blockquote>
<p>Track who did what, where, and when with Genomics reporting audit logs beta.</p>

<p>Google Genomicsでのaudit logがベータ提供されます。いつ誰がどこで何をしたか記録されます。</p>
</blockquote>

<h2>
<span id="cloud-deployment-manager-labels-for-deployments-ga" class="fragment"></span><a href="#cloud-deployment-manager-labels-for-deployments-ga"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/deployment-manager/docs/deployments/add-labels-deployments" rel="nofollow noopener" target="_blank">Cloud Deployment Manager labels for deployments GA</a>
</h2>

<blockquote>
<p>Cloud Deployment Manager allows customers to add labels to a deployment. Using labels when performing filtered searches makes it easier to find resources.</p>

<p>Cloud Deploy Managerではデプロイにラベルを追加できます。ラベルを使えばリソースを探すのが楽になります。</p>
</blockquote>

<h1>
<span id="account-services" class="fragment"></span><a href="#account-services"><i class="fa fa-link"></i></a>Account Services</h1>

<h2>
<span id="gcp-region-expansionlondon" class="fragment"></span><a href="#gcp-region-expansionlondon"><i class="fa fa-link"></i></a><a href="https://cloudplatform.googleblog.com/2017/07/Google-Cloud-Platform-now-open-in-London.html" rel="nofollow noopener" target="_blank">GCP region expansion–London</a>
</h2>

<blockquote>
<p>The newest GCP region launches in London (europe-west2), giving customers the ability to build applications and store data in London. See the full list of <a href="https://cloudplatform.googleblog.com/2017/07/Google-Cloud-Platform-now-open-in-London.html" rel="nofollow noopener" target="_blank">available products</a>.</p>

<p>ロンドンに新しいリージョンがローンチしました (europe-west2)</p>
</blockquote>

<p>ブログに詳細があります。ゾーンは3つあり、利用可能なサービスは次の通りです。</p>

<p><a href="/images/2017/08/14/3.png" target="_blank"><img src="/images/2017/08/14/3.png" alt="london-region-2.png (47.3 kB)"></a></p>

<p>出展: <a href="https://cloudplatform.googleblog.com/2017/07/Google-Cloud-Platform-now-open-in-London.html" rel="nofollow noopener" target="_blank">Google Cloud Platform Blog: Google Cloud Platform now open in London</a></p>

<h2>
<span id="geo-expansionsydney-gcp-regionpublic-launch-for-app-engine-and-datasre" class="fragment"></span><a href="#geo-expansionsydney-gcp-regionpublic-launch-for-app-engine-and-datasre"><i class="fa fa-link"></i></a><a href="https://cloud.google.com/about/locations/" rel="nofollow noopener" target="_blank">Geo expansion—Sydney GCP region—public launch for App Engine and Datasre</a>
</h2>

<blockquote>
<p>App Engine and Cloud Datastore are now available in the Sydney region, offering significantly reduced latency for Australian customers. This follows the public launch of the region this past June.</p>

<p>シドニーリージョンでApp EngineとCloud Datastoreが有効になりました。</p>
</blockquote>
</div><div class="sns-buttons"><ul><li><div class="twitter-button"><a class="twitter-share-button" data-related="nownabe" data-via="nownabe" href="https://twitter.com/share">Tweet</a></div></li><li><div class="fb-like" data-action="like" data-layout="button_count" data-share="true" data-show-faces="false" data-size="small"></div></li><li><a class="tumblr-share-button" href="https://www.tumblr.com/share"></a></li><li><a class="hatena-bookmark-button" data-hatena-bookmark-lang="ja" data-hatena-bookmark-layout="standard-balloon" href="http://b.hatena.ne.jp/entry/" title="このエントリーをはてなブックマークに追加"><img alt="このエントリーをはてなブックマークに追加" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20"></a></li><li><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></li></ul></div></article></div></div><div id="footer-container"><footer class="container"><p class="copyright">Copyright &copy; 2016<img alt="now" src="/images/nownabe.svg">nownabe All Right Reserved.</p></footer><aside class="container" id="information"><ul id="links"><li><a href="https://nownabe.github.io"><img alt="nownabe.github.io" src="/images/nownabe.svg"></a></li><li><a href="https://github.com/nownabe"><img alt="github.com/nownabe" src="/images/github.svg"></a></li><li><a href="https://qiita.com/nownabe"><img alt="qiita.com/nownabe" src="/images/qiita.svg"></a></li><li><a href="https://twitter.com/nownabe"><img alt="twitter.com/nownabe" src="/images/twitter.svg"></a></li><li><a href="https://www.facebook.com/nownabe"><img alt="www.facebook.com/nownabe" src="/images/facebook.png"></a></li></ul></aside><div class="container"><p>今が最高</p></div></div><div id="fb-root"></div></div><script>// Twitter
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script><script>// Facebook
(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.7&appId=1775541316016693";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script><script>// Pocket
!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js"></script></body></html>